post:
  summary: Confirm Shipping Quote
  operationId: confirm-shipping-quote
  description: |-
    Use this endpoint to confirm which quote you want to use to ship your order.
    You can confirm either custom or ankorstore quote.
  tags:
    - Shipping
  parameters:
    - $ref: '../../v1.yaml#/components/parameters/acceptInHeader'
    - $ref: './components.yaml#/parameters/quoteIdInPath'
  requestBody:
    content:
      application/vnd.api+json:
        schema:
          type: object
          properties:
            labelFormat:
              type: string
              description: This field is not required. If you don't' define it we will use the default label format as well.
              enum:
                - full_page
                - default
              default: default
            tracking:
              oneOf:
                - type: object
                  description: Tracking Provider + Number for custom quote
                  required:
                    - trackingProvider
                    - trackingNumber
                  properties:
                    trackingProvider:
                      type: string
                      description: Tracking provider is required with trackingNumber if your define an tracking key in your payload. You can define trackingLink instead of define trackingProvider & trackingNumber
                    trackingNumber:
                      description: The tracking number (may contain characters as well)
                      type: string
                - type: object
                  description: Tracking Link
                  required:
                    - trackingLink
                  properties:
                    trackingLink:
                      type: string
                      format: url
                      description: Tracking link is required if your define an tracking key in your payload. You can define trackingProvider & trackingNumber instead
        examples:
          example-with-full-page-label-format:
            value:
              labelFormat: default
          example-with-provider-and-number:
            value:
              tracking:
                trackingProvider: ups
                trackingNumber: '123456'
          example-with-link:
            value:
              tracking:
                trackingLink: 'https://www.dhl.com/fr-en/home/tracking/tracking-parcel.html?submit=1&tracking-id=1Z8A76E46801183396'
  responses:
    '200':
      description: Successful response
      content:
        application/vnd.api+json:
          schema:
            $ref: './components.yaml#/schemas/ConfirmSippingQuoteResponse'
          examples:
            example-with-shipping-cost:
             value:
               jsonapi:
                 version: "1.0"
               data:
                 id: "991836"
                 uuid: "1eda3cbb-983b-6a4a-b395-6a0440190584"
                 orderUuid: "1ed9f5cc-ce42-625a-a8f1-b6ea0809b6f7"
                 provider: "ups"
                 currency: "EUR"
                 shippingCost: "€12.00"
            example-with-refund:
              value:
                jsonapi:
                  version: "1.0"
                data:
                  id: "991836"
                  uuid: "1eda3cbb-983b-6a4a-b395-6a0440190584"
                  orderUuid: "1ed9f5cc-ce42-625a-a8f1-b6ea0809b6f7"
                  provider: "ups"
                  currency: "EUR"
                  refund: "€12.00"

    '401':
      $ref: '../../v1.yaml#/components/responses/Unauthorized'
    '403':
      $ref: '../../v1.yaml#/components/responses/Forbidden'
    '404':
      $ref: '../../v1.yaml#/components/responses/NotFound'
    '406':
      $ref: '../../v1.yaml#/components/responses/NotAcceptable'
    '415':
      $ref: '../../v1.yaml#/components/responses/UnsupportedMediaType'
    '422':
      $ref: '../../v1.yaml#/components/responses/UnprocessableEntity'
