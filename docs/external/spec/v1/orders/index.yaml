get:
  summary: List Orders
  description: 'Returns all orders, can be filtered by retailer ID or by order `status`.'
  operationId: list-orders
  tags:
    - Order
  parameters:
    - $ref: '../../v1.yaml#/components/parameters/acceptInHeader'
    - name: 'filter[retailer]'
      in: query
      description: Retailer Id
      allowEmptyValue: true
      required: false
      schema:
        type: string
        example: 23e4567-e89b-12d3-a456-426614174000
    - name: 'filter[status]'
      in: query
      description: Order Status
      allowEmptyValue: true
      required: false
      schema:
        $ref: './components.yaml#/schemas/OrderWorkflowStatus'
    - $ref: '../../v1.yaml#/components/parameters/pageLimit'
    - $ref: '../../v1.yaml#/components/parameters/pageBefore'
    - $ref: '../../v1.yaml#/components/parameters/pageAfter'
  responses:
    '200':
      description: '[OK](https://jsonapi.org/format/#fetching-resources-responses-200)'
      content:
        application/vnd.api+json:
          schema:
            $ref: './components.yaml#/schemas/OrderCollection'
          examples:
            example:
              value:
                meta:
                  page:
                    from: 123e4567-e89b-12d3-a456-426614174000
                    hasMore: true
                    perPage: 2
                    to: 1ecb023e-7ec0-6d5c-a477-0242ac170008
                jsonapi:
                  version: '1.0'
                links:
                  first: 'https://www.ankorstore.com/api/v1/orders?include=&page%5Blimit%5D=2'
                  next: 'https://www.ankorstore.com/api/v1/orders?include=&page%5Bafter%5D=797910&page%5Blimit%5D=2'
                  prev: 'https://www.ankorstore.com/api/v1/orders?include=&page%5Bbefore%5D=904234&page%5Blimit%5D=2'
                data:
                  - type: orders
                    id: 123e4567-e89b-12d3-a456-426614174000
                    attributes:
                      status: invoiced
                      reference: 3434273911
                      brandCurrency: EUR
                      brandNetAmount: 20596
                      brandTotalAmount: 23405
                      brandTotalAmountVat: 0
                      brandTotalAmountWithVat: 23405
                      brandRejectReason: null
                      retailerRejectReason: null
                      retailerCancellationRequestReason: null
                      billingName: Charles Attan
                      billingOrganisationName: Jumbo
                      billingStreet: Kortricklaan 101
                      billingPostalCode: 8121 GW
                      billingCity: Arnhem
                      billingCountryCode: NL
                      submittedAt: '2022-03-15T10:05:09+00:00'
                      shippedAt: '2022-03-17T15:05:19+00:00'
                      brandPaidAt: null
                      createdAt: '2022-03-13T16:36:24+00:00'
                      updatedAt: '2022-03-31T11:57:13+00:00'
                      shippingMethod: ankorstore
                    relationships:
                      retailer:
                        data:
                          type: retailers
                          id: 1ecba0f4-adf0-6fbe-badf-9eb2e4c4d56c
                      billingItems:
                        data:
                          - type: billing-items
                            id: 1ece8a8c-55b9-63c6-95c3-0242ac160007
                      orderItems:
                        data:
                          - type: order-items
                            id: 1ece8a8c-73ad-6ae4-a4ab-0242ac160007
                          - type: order-items
                            id: 1ece8a8c-623e-6ccc-aa2e-0242ac160007
                  - type: orders
                    id: 1ecb023e-7ec0-6d5c-a477-0242ac170007
                    attributes:
                      status: ankor_confirmed
                      reference: 3434273911
                      brandCurrency: EUR
                      brandNetAmount: 10229
                      brandTotalAmount: 10940
                      brandTotalAmountVat: 602
                      brandTotalAmountWithVat: 11542
                      brandRejectReason: null
                      retailerRejectReason: null
                      retailerCancellationRequestReason: null
                      billingName: Charles Attan
                      billingOrganisationName: Jumbo
                      billingStreet: Kortricklaan 101
                      billingPostalCode: 8121 GW
                      billingCity: Arnhem
                      billingCountryCode: NL
                      submittedAt: '2022-03-17T13:19:33+00:00'
                      shippedAt: null
                      brandPaidAt: null
                      createdAt: '2022-02-01T14:37:10+00:00'
                      updatedAt: '2022-03-31T11:56:01+00:00'
                      shippingMethod: null
                    relationships:
                      retailer:
                        data:
                          type: retailers
                          id: 1ecba0f4-adf0-6fbe-badf-9eb2e4c4d56c
                      billingItems:
                        data:
                          - type: billing-items
                            id: 1ece8a8c-55b9-63c6-95c3-0242ac160007
                      orderItems:
                        data:
                          - type: order-items
                            id: 1ece8a8c-73ad-6ae4-a4ab-0242ac160007
    '400':
      $ref: '../../v1.yaml#/components/responses/BadRequest'
    '401':
      $ref: '../../v1.yaml#/components/responses/Unauthorized'
    '406':
      $ref: '../../v1.yaml#/components/responses/NotAcceptable'
    '415':
      $ref: '../../v1.yaml#/components/responses/UnsupportedMediaType'
