post:
  summary: Create Test Order (Sandbox Only)
  tags:
    - Testing
  operationId: brand-create-test-order
  description: Creates a test order ready to be confirmed based on the options provided. ONLY AVAILABLE IN SANDBOX.
  parameters:
    - $ref: '../../orders/components.yaml#/parameters/orderIncludeResourcesInQuery'
    - schema:
        type: string
      in: header
      name: Accept
      description: application/vnd.api+json
    - schema:
        type: string
      in: header
      name: Content-Type
      description: application/vnd.api+json
  requestBody:
    description: The options that can be provided when creating a test order
    content:
      application/vnd.api+json:
        schema:
          description: Options
          type:
            - object
            - 'null'
          properties:
            retailerId:
              type:
                - string
                - 'null'
              description: The Retailer Id
            itemQuantity:
              type:
                - integer
                - 'null'
              description: 'If productVariants/productOptions are not provided, then this will set the quantity each order item created.'
              minimum: 1
              maximum: 999
            productVariants:
              type:
                - array
                - 'null'
              description: List of variant IDs and their quantities. Cannot be included with productOptions.
              uniqueItems: true
              items:
                type: object
                properties:
                  id:
                    $ref: '../../../v1.yaml#/components/schemas/id'
                  itemQuantity:
                    type: integer
                    minimum: 1
                    maximum: 999
            productOptions:
              type:
                - array
                - 'null'
              description: List of option IDs and their quantities - Only use if you are currently using the old options system. Cannot be included with productVariants
              uniqueItems: true
              items:
                type: object
                properties:
                  id:
                    $ref: '../../../v1.yaml#/components/schemas/id'
                  itemQuantity:
                    type: integer
                    minimum: 1
                    maximum: 999
        examples:
          use-existing-retailer:
            value:
              retailerId: 5ee4d438-0489-4634-aa60-746f485af458
          use-product-variants:
            value:
              retailerId: 5ee4d438-0489-4634-aa60-746f485af458
              productVariants:
                - id: 73ace86a-db9c-408f-b28f-b478694988c8
                  quantity: 3
                - id: 88f24110-dc42-42a4-abf0-857f90efce7d
                  quantity: 3
          use-product-options:
            value:
              retailerId: 5ee4d438-0489-4634-aa60-746f485af458
              productOptions:
                - id: 73ace86a-db9c-408f-b28f-b478694988c8
                  quantity: 3
                - id: 88f24110-dc42-42a4-abf0-857f90efce7d
                  quantity: 3
          no-options-provided:
            description: No options are required
            value: {}
  responses:
    '200':
      description: '[OK](https://jsonapi.org/format/#fetching-resources-responses-200)'
      content:
        application/vnd.api+json:
          schema:
            $ref: '../../orders/components.yaml#/schemas/OrderGet'
          examples:
            example:
              value:
                jsonapi:
                  version: '1.0'
                data:
                  type: order
                  id: 1ecb023e-8ec0-6d5c-a477-0242ac170007
                  attributes:
                    status: brand_confirmed
                    reference: 3434273911
                    brandCurrency: EUR
                    brandNetAmount: 10229
                    brandTotalAmount: 10940
                    brandTotalAmountVat: 602
                    brandTotalAmountWithVat: 11542
                    brandRejectReason: null
                    retailerRejectReason: null
                    retailerCancellationRequestReason: null
                    billingName: Charles Attan
                    billingOrganisationName: Jumbo
                    billingStreet: Kortricklaan 101
                    billingPostalCode: 8121 GW
                    billingCity: Arnhem
                    billingCountryCode: NL
                    submittedAt: '2022-03-17T13:19:33+00:00'
                    shippedAt: null
                    brandPaidAt: null
                    createdAt: '2022-02-01T14:37:10+00:00'
                    updatedAt: '2022-03-31T15:10:07+00:00'
                    shippingMethod: null
                    shippingOverview:
                      availableShippingMethods:
                        - custom
                        - ankorstore
                      shipToAddress:
                        name: John Smith
                        organisationName: Test
                        street: Test Street
                        city: Commentry
                        postalCode: '03633'
                        countryCode: FR
                      expectedShippingDates:
                        minimum: '2022-03-22T00:00:00+00:00'
                        maximum: '2022-03-24T23:59:59+00:00'
                      provider: null
                      tracking: null
                      latestQuote: null
                      parcels: []
                      transaction: null
    '406':
      $ref: '../../../v1.yaml#/components/responses/NotAcceptable'
    '415':
      $ref: '../../../v1.yaml#/components/responses/UnsupportedMediaType'
