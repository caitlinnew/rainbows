schemas:
  CategoryResource:
    type: object
    example:
      type: categories
      id: 1ed550e3-6ab2-6fb0-8041-0242ac130006
      attributes:
        name: 'Furniture'
      relationships:
        parent:
          data:
            type: categories
            id: 1ed550e3-505e-6254-803d-0242ac130006
    title: CategoryResource
    properties:
      type:
        $ref: '../internal.yaml#/components/schemas/type'
      id:
        $ref: '../internal.yaml#/components/schemas/id'
      attributes:
        type: object
        required:
          - name
        properties:
          name:
            type: string
      relationships:
        type: object
        properties:
          parent:
            type: object
            required:
              - data
            properties:
              data:
                type: object
                required:
                  - type
                  - id
                properties:
                  type:
                    const: categories
                  id:
                    $ref: '../internal.yaml#/components/schemas/id'
        required:
          - parent
    required:
      - type
      - id
      - attributes

responses:
  CategoryCollectionResponse:
    description: Set of category items
    content:
      application/vnd.api+json:
        schema:
          type: object
          properties:
            jsonapi:
              $ref: '../internal.yaml#/components/schemas/jsonapi'
            data:
              type: array
              items:
                $ref: '#/schemas/CategoryResource'
