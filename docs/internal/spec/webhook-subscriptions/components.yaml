parameters:
  webhookSubscriptionId:
    schema:
      type: string
    name: webhookSubscriptionId
    in: path
    required: true
    description: Webhook Subscription ID

schemas:
  ApplicationWebhookSubscriptionResource:
    title: ApplicationWebhookSubscriptionResource
    type: object
    description: Application webhook subscription resource
    properties:
      type:
        $ref: '../internal.yaml#/components/schemas/type'
      id:
        $ref: '../internal.yaml#/components/schemas/id'
      attributes:
        type: object
        properties:
          webhookUrl:
            type: string
            description: URL of the service where webhook request will be sent when one of the events from the list occurs
            format: uri
            example: 'https://my.app/webhook/listener'
          events:
            type: array
            uniqueItems: true
            items:
              type: string
          signingSecret:
            type: string
        required:
          - webhookUrl
          - events
          - signingSecret
    required:
      - id
      - type
      - attributes
responses:
  ApplicationWebhookSubscriptionResponse:
    description: Single application webhook subscription resource response
    content:
      application/json:
        schema:
          type: object
          properties:
            data:
              type: array
              description: ApplicationWebhookSubscriptionResource object
              items:
                $ref: './components.yaml#/schemas/ApplicationWebhookSubscriptionResource'
            jsonapi:
              $ref: '../internal.yaml#/components/schemas/jsonapi'
          required:
            - data
